# Module 1: What is machine data?

Makes up 90% of data, many different formats, structured or not

### Module 1 Quiz
1. Machine data is only generated by web servers: 
    * **False**
2. Machine data is always structured: 
    * **False**
3. Machine data makes up for more than ___% of the data accumulated by organizations: 
    * **90%**

# Module 2: What is Splunk?

Index is heart of splunk, collects data from any source, like a factory where data is raw materials, labels data with source type, break into single event, stored in index for searching. Can add knowledge to affect how data is interpreted, normalized, and reported on. Can monitor and alert. 

Three main processing components: 
* Indexer
    * Process incoming data, stores events, creates sets of directories by age. 
* Search Head
    * Allows user to search indexed data, distribute requests to indexers, perform the actual searches, then consolodate and enrich the results from the indexers before returning to user. Provides tools like dashes, reports, and viz's to assist search
* Forwarder
    * Splunk Enterprise instance that consumes and forwards data to indexers for processing, minimal resources, resides on machines where data originates. **In most splunk deployments, forwarders serve as the primary way data is supplied for indexing.** Not the only components, but basic building blocks.

Can be deployed in a variety of ways. Single instance: one instance handles everything. Perfect for PoC, Personal, Learning, Small environments. 

When we get to prod, split into dedicated servers. Can scale to fit any environment. 

### Module 2 Quiz
1. In most Splunk deployments, ________ serve as the primary way data is supplied for indexing.
    * **Forwarders**
2. A single-instance deployment of Splunk Enterprise handles:
    * **Searching**
    * **Parsing**
    * **Input**
    * **Indexing**
3. Which function is not a part of a single instance deployment?
    * **Clustering**
4. Which of these is not a main component of Splunk?
    * **Compress and archive**
5. Search requests are processed by the ___________.
    * **Indexers**

# Module 3: Installing Splunk

* **Linux:** Click free splunk, log in, Enterprise, linux, our version of linux, can use wget, do not install as root. Untar archive in opt, and go to splunk/bin. Will use commands like `./splunk start`, `./splunk stop`, and `./splunk restart`. Can find these using `./splunk help`. Accept license, create admin username, create admin password, it will display web interface address.

* **Windows:** Can use GUI installer or cli. Free Splunk, account, Enterprise, Windows, etc. System reqs, license. Can install defaults or customize installation. Can change install location, what account type, set password, shortcut, and installs. 

* **OSX** Same as the others. Can get as a dmg, or a tgz. Will be asked about splunk accepting network connections. 

Apps are preconfigured environments to extend prebuilt knowledge and capabilities. Built for a specific use case. **Roles determine what a user is able to see, do, and interact with.** Three main roles:
* Admin
    * Can install apps, ingest data, and create knowledge objects for all users.
* Power User
    * Can create and share knowledge objects for users of an app and do realtime searches.
* User
    * Will only see their own knowldege objects and those shared with them.

### Module 3 Quiz
1. You can launch and manage apps from the home app.
    * **True**
2. The password for a newly installed Splunk instance is:
    * **Created when you install Splunk Enterprise**
3. This role will only see their own knowledge objects and those that have been shared with them.
    * **User**
4. What are the three main default roles in Splunk Enterprise?
    * **Power**
    * **User**
    * **Admin**
5. Which apps ship with Splunk Enterprise?
    * **Home App**
    * **Search & Reporting**

# Module 4: Getting Data In

Need to get data into index. Done by admin. Good idea to understand how ingest works. Upload lets us upload files directly. Only indexed once. Monitor lets us monitor files, directories, HTTP events, network ports, and scripts. Can also monitor windows specific data. Forward lets us recieve data from external forwarders. 

Splunk uses source types to categorize data. Used in many search management functions. Indexes make searches more efficient and sorted. Only returns data from that index. Allows us to control who sees what data. Can retain data for different time intervals. 

Monitor when data's coming from files or ports on an indexer. 

Forwarders are out of the scope. Will be uploading in lab. 

### Module 4 Quiz
1. In most production environments, _______ will be used as the source of data input.
    * **Forwarder**
2. Splunk knows where to break the event, where the time stamp is located and how to automatically create field value pairs using these.
    * **Source Types**
3. The monitor input option will allow you to continuously monitor files.
    * **True**
4. Files indexed using the the upload input option get indexed _____.
    * **Once**
5. Splunk uses ________ to categorize the type of data being indexed.
    * **Source Types**

# Module 5: Basic Searching

* Splunk Bar
* App Bar
* Search Bar
* Time Picker
* How to Search Panel
* What to Search
* Search History

Limiting searches by time is key. Becomes a job. **Commands that creat statistics and visualizations are called "transforming commands"**. By default, a search job will remain active for 10 minutes. Shared search jobs remain active for 7 days. Field discovery is disabled in Fast mode. Verbose mode returns as much as it can. Smart toggles behavior. Timeline shows events over time. Selecting or zooming uses the same search job. Zooming out requires a new search job. 

If no bools used in search, AND is implied. Boolean ops have an order of evaluation: NOT, then OR, then AND. Exact terms searched with "". can use \ to escape ".

### Module 5 Quiz

1. A search job will remain active for ___ minutes after it is run.
    * **10**
2. Commands that create statistics and visualizations are called _______________ commands.
    * **Transforming**
3. When a search is sent to splunk, it becomes a _____.
    * **Search Job**
4. How is the asterisk used in Splunk search?
    * **As a wild card**
5. Which following search mode toggles behavior based on the type of search being run?
    * **Smart**

# Module 6: Using Fields

Fields sidebar shows all fields extracted at search time. Selected fields and interesting fields. Selected is most important. Host, source, sourcetype are default. A is string, # is numeral. Can click for more info. Can add to search, make report, and select. 

Can refine and run better searches using fields. field names are case sensitive, field values are not. = and != can be used with numerical OR string. >, >=, <, and <= can be used with numerical fields. 

NOT and != can return different results. != is for when a field does not equal something. NOT returns all events that don't have that field equalling something. 

Also have an IN operator. i.e. `index=web status IN ("500", "503", "505")`.

### Module 6 Lab:
* 1301 Events ended in errors.


### Module 6 Quiz
1. What attributes describe the circled field below?
    * **It contains string values**
    * **It contains 4 values**
2. Which is not a comparison operator in Splunk?
    * **?=**
3. Wildcards cannot be used with field searches.
    * **False**
4. Field values are case sensitive.
    * **False**
5. Field names are ________.
    * **Case Sensitive**

# Module 7: Best Practices

* In Search
    * Use time to filter most efficiently, followed by index, source, host, and sourcetype. Extracted at index time. The more you tell the search engine, the more likely it is that you will get good results. Inclusion is stronger than exclusion. Filter as early as possible.
* Using Time
    * Time selected limits results. Event list will update in real time. Can customize time range heavily. @ can be used to round down to the nearest unit. 
* Using Indexes
    * Admins use multiple indexes to segregate data. Only searching indexes they need is more efficient. Possible to search multiple indexes at once.

### Module 7 Quiz
1. What is the most efficient way to filter events in Splunk?
    * **By time**
2. Time to search can only be set by the time range picker.
    * **False**
3. As a general practice, exclusion is better than inclusion in a Splunk search.
    * **False**
4. This symbol is used in the "Advanced" section of the time range picker to round down to nearest unit of specified time.
    * **@**
5. Having separate indexes allows:
    * **Faster searches**
    * **Ability to limit access**
    * **Multiple retention policies**

# Module 8: SPL Fundamentals
Search terms, commands, functions, arguments, clauses. Left to right flow is very important. Fields command removes fields to reduce result size. Field extraction is one of the least efficient portion of the search. Table is similar to fields, retains data in tabulated format. Rename lets us rename fields. Must use new name to modify this field further down the pipeline. Can use dedup to remove duplicate events from the results that share a common value. Sort allows us to sort results. 

### Module 8 Quiz
1. What command would you use to remove the status field from the returned events?
    * **fields -**
2. Which command removes results with duplicate field values?
    * **Dedup**
3. What is missing from this search?
    * **Quotation Marks around User IP**
4. Would the ip column be removed in the results of this search? Why or why not?
    * **No, because the name was changed.**
5. Excluding fields using the Fields Command will benefit performance.
    * **False**

